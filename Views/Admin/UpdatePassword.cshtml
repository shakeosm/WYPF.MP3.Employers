@model MCPhase3.Models.LoginBO
@{
    ViewData["Title"] = "UpdatePassword";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

}
<br />
<br />
<br />
<div class="border shadow-lg p-4 mb-4 bg-white">
    <div class="container-fluid bg-3">
        <div class="container">
            @if (TempData["UpdateMessage"] != null)
            {
                <div class="container">
                    <div class="alert-danger">
                        <div class="alert alert-dismissible alert-danger">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <b>@TempData["UpdateMessage"].ToString()</b> <br>

                            @if (TempData["PasswordRequ"] != null)
                            {                                
                                <ul>
                                        <li>
                                            at least nine characters
                                        </li>
                                    <li>
                                        one or more capital letters
                                    </li>
                                    <li>
                                        one or more lower case letters
                                    </li>
                                    <li>
                                        one or more numbers
                                    </li>
                                    <li>
                                        one or more special characters, for example !,”.#
                                    </li>
                                    <li>
                                        not contain the user name
                                    </li>
                                    <li>
                                        not have 3 or more of the same characters together, e.g. aaa or 111  
                                    </li>
                                    <li>
                                        easily guessable words or sequences, for example password, qwerty, 123
                                    </li>
                                </ul>
                            }
                        </div>
                    </div>
                </div>
            }
            <h3 class="text-center">Update Password</h3>
            <hr />
            <br />


            <form asp-action="UpdatePassword" asp-controller="Admin">
                <div class="mb-3">
                    <label for="oldPassword" class="form-label">Old Password</label>
                    <input asp-for="oldPassword" type="password" class="form-control" id="oldPassword">
                    @*<span id="spaneOldPassword" class="text-danger font-weight-bold"></span>*@
                    <span asp-validation-for="oldPassword" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">New Password</label>                     
                    
                    <button type="button" class="d-none hidden btn btn-primary btn-lg" data-toggle="modal" data-target="#passwordPolicyDialog" id="ShowPasswordPolicyModalButton" name="id=" ShowPasswordPolicyModalButton">
                        <i class="mdi mdi-information me-1 ms-1 h4"></i>
                    </button>

                    <input asp-for="password" type="password" class="form-control" id="newPassword1">
                    <span id="spanePassword1" class="text-danger font-weight-bold"></span>
                    <span asp-validation-for="password" class="text-danger"></span>
                </div>
                <div class="mb-3">
                    <label for="ConFirmPassword" class="form-label">Confirm Password</label>
                    <input asp-for="ConFirmPassword" type="password" class="form-control">
                    @*<span id="spanNewPassword1" class="text-danger font-weight-bold"></span>*@
                    <span asp-validation-for="ConFirmPassword" class="text-danger"></span>
                </div>
                @*<button type="submit" class="btn btn-primary" onclick="return Validate1()">Submit</button>*@
                <input type="hidden" asp-for="userName">
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>
</div>

<div class="alert alert-info">
    <h3>Poassword policy:</h3>
    <ul>
        <li>at least nine characters,</li>
        <li>one or more capital letters,</li>
        <li>one or more lower case letters,</li>
        <li>one or more numbers,</li>
        <li>one or more special characters, for example !,”.#</li>
    </ul>
</div>


<div class="modal" tabindex="-1" id="passwordPolicyDialog">
  <div class="modal-dialog" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Password policy</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <p>Please ensure the password policy to make it secure.</p>
                <ul>
                    <li>at least nine characters,</li>
                    <li>one or more capital letters,</li>
                    <li>one or more lower case letters,</li>
                    <li>one or more numbers,</li>
                    <li>one or more special characters, for example !,”.#</li>
                </ul>
            </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
    //function Validate() {
    //    var password = document.getElementById("newPassword").value;
    //    var confirmPassword = document.getElementById("newPasswordRetype").value;
        
    //    if (password == "") {
    //        document.getElementById("spanePassword").innerHTML = "Enter password.";
    //        return false;
    //    }
    //    if (confirmPassword == "") {
    //        document.getElementById("spanNewPassword").innerHTML = "Confirm password.";
    //        return false;
    //    }

    //    if (password != confirmPassword) {
    //        document.getElementById("spanNewPassword").innerHTML = "Passwords do not match.";
    //        return false;
    //    }
       
    //    return true;
    //}

    //function Validate1() {

    //var password1 = document.getElementById("newPassword1").value;
    //var confirmPassword1 = document.getElementById("newPasswordRetype1").value;
    //var oldPassword = document.getElementById("oldPassword").value;
    //if (password1 == "") {
    //    document.getElementById("spanePassword1").innerHTML = "Enter password.";
    //    return false;
    //}
    //if (confirmPassword1 == "") {
    //    document.getElementById("spanNewPassword1").innerHTML = "Confirm password.";
    //    return false;
    //}

    //    if (password1 != confirmPassword1) {
    //        document.getElementById("spanNewPassword1").innerHTML = "Password does not match.";
    //        return false;
    //    }
    //    if (oldPassword == "") {
    //        document.getElementById("spaneOldPassword").innerHTML = "Enter Old Password.";
    //        return false;
    //    }
    //    return true;
    //}

</script>


